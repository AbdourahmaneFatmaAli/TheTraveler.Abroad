<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Flow Diagram</title>
    
    <!-- Mermaid.js -->
    <script type="module">
        import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'forest',
            flowchart: {
                useMaxWidth: false,
                htmlLabels: true,
                curve: 'basis'
            }
        });
    </script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Times New Roman', Times, serif;
        }

        body {
            background: bisque;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(62, 195, 232, 0.9);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color:black;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }

        header p {
            color: black;
            font-size: 1.2rem;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .diagram-container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: auto;
        }

        .explanation {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .explanation h2 {
            color: black;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #ecf0f1;
        }

        .explanation p {
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        .user-types {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 30px 0;
        }

        .user-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            width: 200px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .user-card:hover {
            transform: translateY(-5px);
        }

        .user-card.admin {
            border-top: 5px solid #3ca8e7;
        }

        .user-card.user {
            border-top: 5px solid #34a9db;
        }

        .user-card h3 {
            margin-bottom: 10px;
            color: black;
        }

        .user-card p {
            font-size: 0.9rem;
            color:black;
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: black;
            font-size: 0.9rem;
        }

        @media (max-width: 450px) {
            .user-types {
                flex-direction: column;
                align-items: center;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>TravelerAbroad website Flow Diagram</h1>
            <p>System Architecture & User Workflow</p>
        </header>

        <div class="user-types">
            <div class="user-card admin">
                <h3>Admin</h3>
                <p>Manages users, content, and system settings</p>
            </div>
            <div class="user-card user">
                <h3>User</h3>
                <p>Browses content,uploads travel experience, interacts with features</p>
            </div>
        </div>

        <section class="diagram-container">
            <div class="mermaid">
flowchart TD
    A[User Opens Website] --> B[Home Page]
    
    B --> C[Login Page]
    B --> D[Signup Page]
    
    C --> E[login.php<br/>Validate Credentials]
    D --> F[signup.php<br/>Create Account]
    
    E --> G{Role From DB}
    F --> C
    
    G -->|Admin| H[Admin Dashboard]
    G -->|User| I[User Dashboard]
    
    subgraph Admin Functions
        H --> H1[View Users]
        H --> H2[Manage Content]
        H --> H3[System Settings]
    end
    
    subgraph User Functions
        I --> I1[Browse Destinations]
        I --> I2[Read Travel Stories]
        I --> I3[uploads travel photos]
    end
    
    E --> DB[(Users Table)]
    F --> DB
    
    I1 --> DB2[(Destinations Table)]
    I2 --> DB3[(Stories Table)]
    I3 --> FS[(File Storage)]
    
    H --> L[logout.php]
    I --> L
    
    DB --> L
    DB2 --> L
    DB3 --> L
    FS --> L
    
    classDef admin fill:#f8d7da,stroke:#e74c3c,stroke-width:2px
    classDef user fill:#d1ecf1,stroke:#3498db,stroke-width:2px
    classDef database fill:#e8f4fd,stroke:#2980b9,stroke-width:2px
    classDef process fill:#e8f5e9,stroke:#27ae60,stroke-width:2px
    
    class H,H1,H2,H3 admin
    class I,I1,I2,I3 user
    class DB,DB2,DB3,FS database
    class E,F,C,D process
            </div>
        </section>

        <section class="explanation">
            <h2>System Flow Explanation</h2>
            
            <p>
                The diagram above illustrates the complete workflow of our website. The journey begins when a user opens the site and navigates to either the authentication pages (Login or Signup). After successful authentication, the backend retrieves the user's role from the database and directs them to the appropriate dashboard (Admin or User).
            </p>

            <p>
                Each dashboard provides specific functionality tailored to the user type:
                <strong>Admins</strong> can manage users, content, and system settings to maintain the platform.
                <strong>Users</strong> can browse destinations, read travel stories, and uploads travel photos  to inspire others.
            </p>

            <p>
                All user actions interact with the database. Content is stored in appropriate tables (Destinations, Stories) while files are stored in the server's file system. The database manages user accounts, content, and other resources critical to the platform's operation.
            </p>

            <p>
                The system concludes with the logout process, which securely terminates the user session and returns them to the home page.
            </p>
        </section>

        <footer>
            <p>TravellerAbroad website Flow Diagram &copy; 2023 </p>
        </footer>
    </div>
</body>
</html>